{% extends "base_simple.html" %}
{% load static %}

{% block title %}Book Appointment - HealthSphere AI{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/bento-grid.css' %}">
<style>
.gradient-booking { background: linear-gradient(135deg, #A8C5A8, #b8d4b8); }
.gradient-doctor { background: linear-gradient(135deg, #A8C5E8, #b8d4f0); }
.gradient-calendar { background: linear-gradient(135deg, #F0C3A0, #f8d3b0); }

.doctor-selector {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 12px;
    margin-top: 12px;
}

.doctor-option {
    padding: 16px;
    background: white;
    border: 2px solid #E2E8F0;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: center;
}

.doctor-option:hover {
    border-color: var(--color-blue);
    background: rgba(168, 197, 232, 0.05);
}

.doctor-option.selected {
    border-color: var(--color-blue);
    background: rgba(168, 197, 232, 0.1);
}

.doctor-avatar {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--color-blue), var(--color-green));
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    color: white;
    margin: 0 auto 12px;
}

.time-slots {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 8px;
    margin-top: 12px;
}

.time-slot {
    padding: 10px;
    background: white;
    border: 2px solid #E2E8F0;
    border-radius: 10px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 14px;
    font-weight: 600;
}

.time-slot:hover:not(.disabled) {
    border-color: var(--color-blue);
    background: rgba(168, 197, 232, 0.05);
}

.time-slot.selected {
    background: var(--color-blue);
    border-color: var(--color-blue);
    color: white;
}

.time-slot.disabled {
    background: #F7FAFC;
    color: #CBD5E0;
    cursor: not-allowed;
}

.specialty-chip {
    display: inline-block;
    padding: 6px 12px;
    background: rgba(168, 197, 232, 0.1);
    border-radius: 16px;
    font-size: 12px;
    color: var(--color-blue);
    margin: 4px;
}
</style>
{% endblock %}

{% block content %}
<div class="bento-grid">
    <!-- Page Header -->
    <div class="bento-card bento-wide" data-hover-lift>
        <div class="card-glow"></div>
        <div class="card-header">
            <div class="card-title">
                <div class="metric-icon gradient-booking">
                    <i class="fas fa-calendar-plus"></i>
                </div>
                Book Appointment
            </div>
            <a href="{% url 'patient_portal:dashboard' %}" class="bento-btn bento-btn-secondary">
                <i class="fas fa-arrow-left"></i>
                Back
            </a>
        </div>
        <p style="color: #718096; margin: 0;">Schedule a visit with our medical professionals</p>
    </div>

    <!-- Booking Steps -->
    <div class="bento-card bento-wide" data-tilt>
        <div class="card-glow"></div>
        <div class="card-title">
            <i class="fas fa-list-ol"></i>
            Booking Steps
        </div>
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-top: 12px;">
            <div style="text-align: center; padding: 12px; background: rgba(168, 197, 232, 0.1); border-radius: 12px;">
                <div style="font-size: 24px; color: var(--color-blue); margin-bottom: 4px;">1</div>
                <div style="font-size: 13px; font-weight: 600; color: #2D3748;">Select Doctor</div>
            </div>
            <div style="text-align: center; padding: 12px; background: rgba(168, 197, 232, 0.05); border-radius: 12px;">
                <div style="font-size: 24px; color: #CBD5E0; margin-bottom: 4px;">2</div>
                <div style="font-size: 13px; font-weight: 600; color: #718096;">Choose Date & Time</div>
            </div>
            <div style="text-align: center; padding: 12px; background: rgba(168, 197, 232, 0.05); border-radius: 12px;">
                <div style="font-size: 24px; color: #CBD5E0; margin-bottom: 4px;">3</div>
                <div style="font-size: 13px; font-weight: 600; color: #718096;">Confirm Details</div>
            </div>
        </div>
    </div>

    <!-- Select Doctor -->
    <div class="bento-card bento-full" data-tilt>
        <div class="card-glow"></div>
        <div class="card-header">
            <div class="card-title">
                <i class="fas fa-user-md"></i>
                Select Doctor
            </div>
            <div style="display: flex; gap: 8px;">
                <button class="bento-btn bento-btn-secondary" style="font-size: 13px;">
                    All Specialties
                </button>
            </div>
        </div>
        
        <div class="doctor-selector">
            <div class="doctor-option selected">
                <div class="doctor-avatar">
                    <i class="fas fa-user-md"></i>
                </div>
                <div style="font-weight: 600; color: #2D3748; margin-bottom: 4px;">Dr. Sarah Johnson</div>
                <div style="font-size: 12px; color: #718096; margin-bottom: 8px;">Cardiology</div>
                <div style="font-size: 11px; color: #48bb78; font-weight: 600;">⭐ 4.9 (127 reviews)</div>
            </div>

            <div class="doctor-option">
                <div class="doctor-avatar">
                    <i class="fas fa-user-md"></i>
                </div>
                <div style="font-weight: 600; color: #2D3748; margin-bottom: 4px;">Dr. Michael Chen</div>
                <div style="font-size: 12px; color: #718096; margin-bottom: 8px;">General Practice</div>
                <div style="font-size: 11px; color: #48bb78; font-weight: 600;">⭐ 4.8 (95 reviews)</div>
            </div>

            <div class="doctor-option">
                <div class="doctor-avatar">
                    <i class="fas fa-user-md"></i>
                </div>
                <div style="font-weight: 600; color: #2D3748; margin-bottom: 4px;">Dr. Emily Rodriguez</div>
                <div style="font-size: 12px; color: #718096; margin-bottom: 8px;">Pediatrics</div>
                <div style="font-size: 11px; color: #48bb78; font-weight: 600;">⭐ 5.0 (143 reviews)</div>
            </div>

            <div class="doctor-option">
                <div class="doctor-avatar">
                    <i class="fas fa-user-md"></i>
                </div>
                <div style="font-weight: 600; color: #2D3748; margin-bottom: 4px;">Dr. David Kim</div>
                <div style="font-size: 12px; color: #718096; margin-bottom: 8px;">Orthopedics</div>
                <div style="font-size: 11px; color: #48bb78; font-weight: 600;">⭐ 4.7 (88 reviews)</div>
            </div>

            <div class="doctor-option">
                <div class="doctor-avatar">
                    <i class="fas fa-user-md"></i>
                </div>
                <div style="font-weight: 600; color: #2D3748; margin-bottom: 4px;">Dr. Lisa Anderson</div>
                <div style="font-size: 12px; color: #718096; margin-bottom: 8px;">Dermatology</div>
                <div style="font-size: 11px; color: #48bb78; font-weight: 600;">⭐ 4.9 (112 reviews)</div>
            </div>

            <div class="doctor-option">
                <div class="doctor-avatar">
                    <i class="fas fa-user-md"></i>
                </div>
                <div style="font-weight: 600; color: #2D3748; margin-bottom: 4px;">Dr. James Wilson</div>
                <div style="font-size: 12px; color: #718096; margin-bottom: 8px;">Neurology</div>
                <div style="font-size: 11px; color: #48bb78; font-weight: 600;">⭐ 4.8 (76 reviews)</div>
            </div>
        </div>
    </div>

    <!-- Select Date -->
    <div class="bento-card bento-wide" data-hover-lift>
        <div class="card-glow"></div>
        <div class="card-title">
            <i class="fas fa-calendar"></i>
            Select Date
        </div>
        <div class="bento-form-group">
            <input type="date" class="bento-input" value="2026-02-20">
        </div>
    </div>

    <!-- Appointment Type -->
    <div class="bento-card bento-wide" data-hover-lift>
        <div class="card-glow"></div>
        <div class="card-title">
            <i class="fas fa-clipboard-list"></i>
            Appointment Type
        </div>
        <div class="bento-form-group">
            <select class="bento-select">
                <option>General Consultation</option>
                <option>Follow-up Visit</option>
                <option>Routine Checkup</option>
                <option>Emergency</option>
            </select>
        </div>
    </div>

    <!-- Available Time Slots -->
    <div class="bento-card bento-full" data-tilt>
        <div class="card-glow"></div>
        <div class="card-header">
            <div class="card-title">
                <i class="fas fa-clock"></i>
                Available Time Slots
            </div>
            <span class="card-badge">Thursday, Feb 20, 2026</span>
        </div>
        
        <div style="margin-top: 16px;">
            <div style="font-weight: 600; color: #2D3748; margin-bottom: 8px;">Morning</div>
            <div class="time-slots">
                <div class="time-slot">9:00 AM</div>
                <div class="time-slot selected">10:00 AM</div>
                <div class="time-slot">11:00 AM</div>
                <div class="time-slot disabled">12:00 PM</div>
            </div>

            <div style="font-weight: 600; color: #2D3748; margin: 16px 0 8px;">Afternoon</div>
            <div class="time-slots">
                <div class="time-slot">2:00 PM</div>
                <div class="time-slot">3:00 PM</div>
                <div class="time-slot">4:00 PM</div>
                <div class="time-slot disabled">5:00 PM</div>
            </div>
        </div>
    </div>

    <!-- Reason for Visit -->
    <div class="bento-card bento-wide" data-hover-lift>
        <div class="card-glow"></div>
        <div class="card-title">
            <i class="fas fa-notes-medical"></i>
            Reason for Visit
        </div>
        <div class="bento-form-group">
            <textarea class="bento-textarea" placeholder="Please describe your symptoms or reason for visit..."></textarea>
        </div>
    </div>

    <!-- Appointment Summary -->
    <div class="bento-card bento-wide" data-tilt>
        <div class="card-glow"></div>
        <div class="card-header">
            <div class="card-title">
                <i class="fas fa-file-alt"></i>
                Appointment Summary
            </div>
        </div>
        <div style="margin-top: 12px; display: flex; flex-direction: column; gap: 10px;">
            <div style="display: flex; justify-content: space-between; padding: 10px; background: rgba(168, 197, 232, 0.05); border-radius: 8px;">
                <span style="color: #718096; font-size: 14px;">Doctor:</span>
                <span style="font-weight: 600; color: #2D3748;">Dr. Sarah Johnson</span>
            </div>
            <div style="display: flex; justify-content: space-between; padding: 10px; background: rgba(168, 197, 232, 0.05); border-radius: 8px;">
                <span style="color: #718096; font-size: 14px;">Date:</span>
                <span style="font-weight: 600; color: #2D3748;">Feb 20, 2026</span>
            </div>
            <div style="display: flex; justify-content: space-between; padding: 10px; background: rgba(168, 197, 232, 0.05); border-radius: 8px;">
                <span style="color: #718096; font-size: 14px;">Time:</span>
                <span style="font-weight: 600; color: #2D3748;">10:00 AM</span>
            </div>
            <div style="display: flex; justify-content: space-between; padding: 10px; background: rgba(168, 197, 232, 0.05); border-radius: 8px;">
                <span style="color: #718096; font-size: 14px;">Type:</span>
                <span style="font-weight: 600; color: #2D3748;">General Consultation</span>
            </div>
        </div>
        <button class="bento-btn bento-btn-success" style="width: 100%; margin-top: 16px; padding: 14px;">
            <i class="fas fa-check"></i>
            Confirm Appointment
        </button>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Doctor selection
    document.querySelectorAll('.doctor-option').forEach(option => {
        option.addEventListener('click', function() {
            document.querySelectorAll('.doctor-option').forEach(o => o.classList.remove('selected'));
            this.classList.add('selected');
        });
    });

    // Time slot selection
    document.querySelectorAll('.time-slot:not(.disabled)').forEach(slot => {
        slot.addEventListener('click', function() {
            document.querySelectorAll('.time-slot').forEach(s => s.classList.remove('selected'));
            this.classList.add('selected');
        });
    });
});
</script>
{% endblock %}
