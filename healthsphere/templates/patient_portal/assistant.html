{% extends "base_simple.html" %}
{% load static %}

{% block title %}AI Health Assistant - HealthSphere AI{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/bento-grid.css' %}">
<style>
.gradient-ai { background: linear-gradient(135deg, #A8C5E8, #b8d4f0); }
.gradient-chat { background: linear-gradient(135deg, #A8C5A8, #b8d4b8); }

.chat-container {
    background: rgba(168, 197, 232, 0.03);
    border-radius: 12px;
    padding: 16px;
    height: 400px;
    overflow-y: auto;
    margin-top: 12px;
}

.chat-message {
    padding: 12px 16px;
    border-radius: 12px;
    margin-bottom: 12px;
    max-width: 80%;
}

.chat-message.user {
    background: var(--color-blue);
    color: white;
    margin-left: auto;
}

.chat-message.ai {
    background: white;
    border: 2px solid #E2E8F0;
}

.chat-input-area {
    display: flex;
    gap: 12px;
    margin-top: 16px;
}

.suggestion-chip {
    display: inline-block;
    padding: 8px 16px;
    background: white;
    border: 2px solid #E2E8F0;
    border-radius: 20px;
    font-size: 13px;
    color: #2D3748;
    cursor: pointer;
    transition: all 0.3s ease;
}

.suggestion-chip:hover {
    border-color: var(--color-blue);
    background: rgba(168, 197, 232, 0.1);
}
</style>
{% endblock %}

{% block content %}
<div class="bento-grid">
    <!-- Page Header -->
    <div class="bento-card bento-wide" data-hover-lift>
        <div class="card-glow"></div>
        <div class="card-header">
            <div class="card-title">
                <div class="metric-icon gradient-ai">
                    <i class="fas fa-robot"></i>
                </div>
                AI Health Assistant
            </div>
            <a href="{% url 'patient_portal:dashboard' %}" class="bento-btn bento-btn-secondary">
                <i class="fas fa-arrow-left"></i>
                Back
            </a>
        </div>
        <p style="color: #718096; margin: 0;">Ask me anything about your health, medications, or appointments</p>
    </div>

    <!-- Assistant Stats -->
    <div class="bento-card bento-wide" data-tilt>
        <div class="card-glow"></div>
        <div class="card-title">
            <i class="fas fa-chart-bar"></i>
            Assistant Activity
        </div>
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-top: 12px;">
            <div style="text-align: center; padding: 12px; background: rgba(168, 197, 232, 0.05); border-radius: 12px;">
                <div style="font-size: 24px; font-weight: 700; color: #2D3748;">48</div>
                <div style="font-size: 12px; color: #718096; margin-top: 4px;">Total Conversations</div>
            </div>
            <div style="text-align: center; padding: 12px; background: rgba(168, 197, 232, 0.05); border-radius: 12px;">
                <div style="font-size: 24px; font-weight: 700; color: var(--color-blue);">5</div>
                <div style="font-size: 12px; color: #718096; margin-top: 4px;">Active Today</div>
            </div>
            <div style="text-align: center; padding: 12px; background: rgba(168, 197, 232, 0.05); border-radius: 12px;">
                <div style="font-size: 24px; font-weight: 700; color: #48bb78;">96%</div>
                <div style="font-size: 12px; color: #718096; margin-top: 4px;">Satisfaction Rate</div>
            </div>
        </div>
    </div>

    <!-- Chat Interface -->
    <div class="bento-card bento-featured" data-tilt>
        <div class="card-glow"></div>
        <div class="card-title">
            <i class="fas fa-comments"></i>
            Chat with AI Assistant
        </div>
        
        <div class="chat-container">
            <div class="chat-message ai">
                <div style="font-weight: 600; color: #2D3748; margin-bottom: 4px;">HealthSphere AI</div>
                <div style="color: #4A5568;">Hello! I'm your AI health assistant. How can I help you today?</div>
            </div>
            
            <div class="chat-message user">
                <div>What are my upcoming appointments?</div>
            </div>
            
            <div class="chat-message ai">
                <div style="font-weight: 600; color: #2D3748; margin-bottom: 4px;">HealthSphere AI</div>
                <div style="color: #4A5568;">You have 2 upcoming appointments:<br>
                1. Dr. Sarah Johnson (Cardiology) - Tomorrow at 10:00 AM<br>
                2. Dr. Michael Chen (General Practice) - Mar 15 at 2:30 PM</div>
            </div>
        </div>

        <div class="chat-input-area">
            <input type="text" class="bento-input" placeholder="Type your message..." style="flex: 1;">
            <button class="bento-btn bento-btn-primary">
                <i class="fas fa-paper-plane"></i>
                Send
            </button>
        </div>
    </div>

    <!-- Quick Questions -->
    <div class="bento-card bento-tall" data-hover-lift>
        <div class="card-glow"></div>
        <div class="card-title">
            <i class="fas fa-lightbulb"></i>
            Quick Questions
        </div>
        <div style="display: flex; flex-direction: column; gap: 8px; margin-top: 12px;">
            <div class="suggestion-chip">üíä What medications am I taking?</div>
            <div class="suggestion-chip">üìÖ When is my next appointment?</div>
            <div class="suggestion-chip">üìä Show my latest lab results</div>
            <div class="suggestion-chip">‚ù§Ô∏è What's my current health status?</div>
            <div class="suggestion-chip">üè• Find nearby hospitals</div>
            <div class="suggestion-chip">üìã Explain my diagnosis</div>
            <div class="suggestion-chip">üîî Set medication reminder</div>
        </div>
    </div>

    <!-- AI Capabilities -->
    <div class="bento-card bento-wide" data-hover-lift>
        <div class="card-glow"></div>
        <div class="card-title">
            <i class="fas fa-brain"></i>
            What I Can Help With
        </div>
        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-top: 12px;">
            <div style="padding: 12px; background: rgba(168, 197, 232, 0.05); border-radius: 12px;">
                <i class="fas fa-pills" style="color: var(--color-blue); font-size: 20px;"></i>
                <div style="font-weight: 600; color: #2D3748; margin-top: 8px;">Medication Info</div>
                <div style="font-size: 13px; color: #718096; margin-top: 4px;">Dosage, side effects, interactions</div>
            </div>
            <div style="padding: 12px; background: rgba(168, 197, 232, 0.05); border-radius: 12px;">
                <i class="fas fa-heartbeat" style="color: var(--color-coral); font-size: 20px;"></i>
                <div style="font-weight: 600; color: #2D3748; margin-top: 8px;">Symptom Checker</div>
                <div style="font-size: 13px; color: #718096; margin-top: 4px;">Preliminary health assessments</div>
            </div>
            <div style="padding: 12px; background: rgba(168, 197, 232, 0.05); border-radius: 12px;">
                <i class="fas fa-calendar" style="color: var(--color-green); font-size: 20px;"></i>
                <div style="font-weight: 600; color: #2D3748; margin-top: 8px;">Appointments</div>
                <div style="font-size: 13px; color: #718096; margin-top: 4px;">Schedule and manage visits</div>
            </div>
            <div style="padding: 12px; background: rgba(168, 197, 232, 0.05); border-radius: 12px;">
                <i class="fas fa-chart-line" style="color: var(--color-peach); font-size: 20px;"></i>
                <div style="font-weight: 600; color: #2D3748; margin-top: 8px;">Health Insights</div>
                <div style="font-size: 13px; color: #718096; margin-top: 4px;">Personalized recommendations</div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
